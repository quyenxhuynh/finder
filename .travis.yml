language: python
python:
- '3.8'

before_install:
- sudo apt-get update
- sudo apt-get install python3-pip python3-dev libpq-dev 
- sudo apt-get install binutils libproj-dev gdal-bin
- pip install GDAL
- sudo apt install postgresql postgresql-contrib
- sudo apt install postgis
- sudo apt-get install postgresql-10-postgis-scripts

install:
- pip install -r requirements-travis.txt
 
script:
- python manage.py test

deploy:
  provider: heroku
  api_key:
    secure: e058839e-10e5-4205-916b-15fdd44abd08
  app: finder-1-29
  on:
    repo: uva-cs3240-f20/finder-1-29
