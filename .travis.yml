language: python
python:
- '3.8'

addons:
  apt:
    update: true
    packages:
      - libxmlsec1-dev
      - libgeoip-dev
      - binutils
      - libproj-dev
      - gdal-bin
      - libgeoip1
      - python-gdal
      - postgresql
      - postgresql-contrib
      - postgis
      - libpq-dev
      - libgeos-dev
      - redis-server
      - libffi6
      - libffi-dev

install:
- pip install -r requirements-travis.txt
script:
- python manage.py test

deploy:
  provider: heroku
  api_key:
    secure: e058839e-10e5-4205-916b-15fdd44abd08
  app: finder-1-29
  on:
    repo: uva-cs3240-f20/finder-1-29
