{% extends 'events/base.html' %}
{% load static %}
{% block content %}

<h1>edit event.</h1>
<form method='post' enctype="multipart/form-data">
    {% csrf_token %}
    <label>Event Name</label>
    <input  type="text" id="name" name="event_name" class="form-control" max_length=100 value="{{ post.event_name }}" required>

    <label>Date</label>
    <input type="date" name="event_date" class="form-control" value="{{ post.event_date|date:'Y-m-d' }}" required>

    <label>Time</label>
    <input type="time" name="event_time" class="form-control" value="{{ post.event_time|time:'H:i'}}">

    <label>Description</label>
    <textarea id="description" name="event_description" class="form-control" max_length=500 >{{ post.event_description }}</textarea>

    <label>Banner</label>
    <input type="file" name="event_banner" class="form-control" placeholder="Banner" accept="image/*">

    <label>Tags</label>
    <input type="text" name="event_tags" class="form-control" maxlength=100 value="{{ post.event_tags }}"><br>
    <button type="submit" class="save btn btn-outline-dark">update.</button>
</form>

<script>
    var description = document.getElementById("description")
    function descriptionLength() {
        if (description.value.length > 500) {
            description.setCustomValidity("Must be less than 500 characters.")
        } else {
            description.setCustomValidity("")
        }
    }

    description.onkeyup = descriptionLength
</script>

{% endblock %}